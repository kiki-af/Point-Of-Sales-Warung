/*!
 * Point Of Sales Warung
 * Licensed under GPL (https://github.com/rezafikkri/Point-Of-Sales-Warung/blob/master/LICENSE)
 */
!function(){"use strict";const e=document.querySelector("table.table");e.querySelector("tbody").addEventListener("click",(t=>{let r=t.target;if("remove-category-product"!==r.getAttribute("id")&&(r=r.parentElement),"remove-category-product"!==r.getAttribute("id")&&(r=r.parentElement),"remove-category-product"===r.getAttribute("id")){t.preventDefault();const n=r.dataset.categoryProductId,a=e.dataset.csrfName,s=e.dataset.csrfValue;e.parentElement.nextElementSibling.classList.remove("d-none"),fetch("/admin/hapus_kategori_produk_di_db",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:`${a}=${s}&category_product_id=${n}`}).finally((()=>{e.parentElement.nextElementSibling.classList.add("d-none")})).then((e=>e.json())).then((t=>{if(void 0!==t.csrf_value&&(e.dataset.csrfValue=t.csrf_value),!1===t.success&&void 0!==t.error_message){const e=function(e,t){const r=document.createElement("div");return r.classList.add("alert"),r.classList.add(e),r.classList.add("mb-3"),r.innerHTML=`<span class="alert__icon"></span>\n    <p>${t}</p>\n    <a class="alert__close" href="#"></a>`,r}("alert--warning",`<strong>Warning</strong>, ${t.error_message}`);document.querySelector("main.main > div").insertBefore(e,document.querySelector("div.main__box"))}else!0===t.success&&r.parentElement.parentElement.remove()})).catch((e=>{console.error(e)}))}}))}();
